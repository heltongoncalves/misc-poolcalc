<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora para Tratamento de Piscinas</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f7ff;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap; /* Para telas menores */
            gap: 15px;
        }
        h1 {
            color: #0056b3;
            margin: 0;
            font-size: 1.8em;
        }
        h2 {
            color: #0056b3;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            text-align: center;
        }
        /* Estilos para o seletor de idioma personalizado */
        .custom-select-wrapper {
            position: relative;
            width: 180px;
            user-select: none;
        }
        .select-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 14px;
            background-color: #f7f7f7;
            border: 1px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
        }
        .select-btn::after {
            content: '‚ñº';
            font-size: 0.7em;
            color: #888;
        }
        .select-content {
            position: absolute;
            top: 110%;
            left: 0;
            width: 100%;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            z-index: 10;
            display: none; /* Inicia oculto */
        }
        .custom-select-wrapper.active .select-content {
            display: block;
        }
        .select-item {
            padding: 10px 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .select-item:hover {
            background-color: #f0f7ff;
        }
        .secao-calculo {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }
        .input-group {
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
        }
        label {
            font-weight: bold;
            color: #555;
            min-width: 180px;
        }
        input[type="number"] {
            width: 150px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s;
            display: block;
            margin: 10px auto 0;
        }
        button:hover {
            background-color: #0056b3;
        }
        .resultado {
            margin-top: 20px;
            padding: 15px;
            background-color: #e6f7ff;
            border: 1px solid #b3e0ff;
            border-radius: 5px;
            display: none; /* Inicia oculto */
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .resultado p {
            margin: 0 0 10px 0;
        }
        .resultado .frase-acao {
            font-weight: bold;
            font-size: 1.1em;
            color: #004085;
        }
        .resultado .explicacao-calculo {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            font-size: 0.9em;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        #volume-piscina-group {
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 data-key="mainTitle"></h1>
        <!-- Seletor de Idioma Personalizado -->
        <div class="custom-select-wrapper">
            <div class="select-btn">
                <span></span>
            </div>
            <div class="select-content">
                <!-- As op√ß√µes ser√£o adicionadas via JavaScript -->
            </div>
        </div>
    </div>

    <div id="volume-piscina-group" class="input-group">
        <label for="volumePiscina" data-key="poolVolumeLabel"></label>
        <input type="number" id="volumePiscina" data-placeholder-key="volumePlaceholder">
    </div>

    <div class="secao-calculo">
        <h2 data-key="phTitle"></h2>
        <div class="input-group">
            <label for="phAtual" data-key="phCurrentLabel"></label>
            <input type="number" id="phAtual" step="0.1" data-placeholder-key="phCurrentPlaceholder">
        </div>
        <div class="input-group">
            <label for="phDesejado" data-key="phDesiredLabel"></label>
            <input type="number" id="phDesejado" step="0.1" value="7.4">
        </div>
        <button onclick="calcularPH()" data-key="calculatePhButton"></button>
        <div class="resultado" id="resultadoPH"></div>
    </div>

    <div class="secao-calculo">
        <h2 data-key="alkTitle"></h2>
        <div class="input-group">
            <label for="alcalinidadeAtual" data-key="alkCurrentLabel"></label>
            <input type="number" id="alcalinidadeAtual" step="5" data-placeholder-key="alkCurrentPlaceholder">
        </div>
        <div class="input-group">
            <label for="alcalinidadeDesejada" data-key="alkDesiredLabel"></label>
            <input type="number" id="alcalinidadeDesejada" step="5" value="100">
        </div>
        <button onclick="calcularAlcalinidade()" data-key="calculateAlkButton"></button>
        <div class="resultado" id="resultadoAlcalinidade"></div>
    </div>

    <div class="secao-calculo">
        <h2 data-key="chlorineTitle"></h2>
        <p data-key="chlorineDescription"></p>
        <button onclick="calcularCloro()" data-key="calculateChlorineButton"></button>
        <div class="resultado" id="resultadoCloro"></div>
    </div>

</div>

<script>
    const translations = {
        pt: { name: "üáßüá∑ Portugu√™s", mainTitle: "Calculadora para Tratamento de Piscinas", poolVolumeLabel: "Volume da Piscina (Litros):", volumePlaceholder: "Ex: 50000", phTitle: "1. Ajustar pH (Elevar com Barrilha)", phCurrentLabel: "pH Atual:", phCurrentPlaceholder: "Ex: 6.8", phDesiredLabel: "pH Desejado (Ideal 7.4):", calculatePhButton: "Calcular Dosagem de Barrilha", alkTitle: "2. Ajustar Alcalinidade Total (Elevar)", alkCurrentLabel: "Alcalinidade Atual (ppm):", alkCurrentPlaceholder: "Ex: 50", alkDesiredLabel: "Alcalinidade Desejada (Ideal 100 ppm):", calculateAlkButton: "Calcular Dosagem de Elevador", chlorineTitle: "3. Dosagem de Cloro Granulado (Manuten√ß√£o)", chlorineDescription: "A dosagem m√©dia para manuten√ß√£o √© de 4 gramas por 1.000 litros. Este c√°lculo √© uma refer√™ncia para a aplica√ß√£o di√°ria ou em dias alternados.", calculateChlorineButton: "Calcular Dosagem de Cloro", alertVolume: "Por favor, insira um volume v√°lido para a piscina antes de calcular.", alertFillFields: "Por favor, preencha os valores atual e desejado.", phOk: "O pH atual j√° est√° no n√≠vel desejado ou acima dele. Nenhum ajuste para elevar √© necess√°rio.", phAction: "Voc√™ deve adicionar aproximadamente {amount} kg de barrilha (elevador de pH). √â recomendado aplicar em etapas para n√£o superdosar.", alkOk: "A alcalinidade atual j√° est√° no n√≠vel desejado ou acima dele. Nenhum ajuste para elevar √© necess√°rio.", alkAction: "Voc√™ deve adicionar aproximadamente {amount} kg de elevador de alcalinidade (bicarbonato de s√≥dio).", chlorineAction: "Para uma dosagem de manuten√ß√£o, voc√™ deve adicionar aproximadamente {amount} gramas de cloro granulado.", explanationTitle: "Explica√ß√£o do C√°lculo:", volumeLine: "Volume: {volume} litros ({volumeM3} m¬≥)", phIncreaseLine: "Aumento de pH necess√°rio: De {current} para {desired} = {diff}", phDosageLine: "Dosagem padr√£o: {dosage}g/m¬≥ para cada 0.1 de aumento de pH", phCalculationLine: "C√°lculo: ({volumeM3} m¬≥ * {dosage}g * ({diff} / 0.1)) = {result} gramas", alkIncreaseLine: "Aumento de alcalinidade necess√°rio: De {current} ppm para {desired} ppm = {diff} ppm", alkDosageLine: "Dosagem padr√£o: {dosage}g/m¬≥ para cada 10 ppm de aumento", alkCalculationLine: "C√°lculo: ({volumeM3} m¬≥ * {dosage}g * ({diff} / 10)) = {result} gramas", chlorineDosageLine: "Dosagem padr√£o de manuten√ß√£o: {dosage}g por 1.000 litros (1 m¬≥)", chlorineCalculationLine: "C√°lculo: {volumeM3} m¬≥ * {dosage}g = {result} gramas", },
        ru: { name: "üá∑üá∫ –†—É—Å—Å–∫–∏–π", mainTitle: "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞—Å—Å–µ–π–Ω–∞", poolVolumeLabel: "–û–±—ä–µ–º –±–∞—Å—Å–µ–π–Ω–∞ (–ª–∏—Ç—Ä—ã):", volumePlaceholder: "–ü—Ä–∏–º–µ—Ä: 50000", phTitle: "1. –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ pH (–ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞–ª—å—Ü–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–æ–¥–æ–π)", phCurrentLabel: "–¢–µ–∫—É—â–∏–π pH:", phCurrentPlaceholder: "–ü—Ä–∏–º–µ—Ä: 6.8", phDesiredLabel: "–ñ–µ–ª–∞–µ–º—ã–π pH (–∏–¥–µ–∞–ª 7.4):", calculatePhButton: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ–∑–∏—Ä–æ–≤–∫—É —Å–æ–¥—ã", alkTitle: "2. –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –æ–±—â–µ–π —â–µ–ª–æ—á–Ω–æ—Å—Ç–∏ (–ø–æ–≤—ã—à–µ–Ω–∏–µ)", alkCurrentLabel: "–¢–µ–∫—É—â–∞—è —â–µ–ª–æ—á–Ω–æ—Å—Ç—å (ppm):", alkCurrentPlaceholder: "–ü—Ä–∏–º–µ—Ä: 50", alkDesiredLabel: "–ñ–µ–ª–∞–µ–º–∞—è —â–µ–ª–æ—á–Ω–æ—Å—Ç—å (–∏–¥–µ–∞–ª 100 ppm):", calculateAlkButton: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ–∑–∏—Ä–æ–≤–∫—É –ø–æ–≤—ã—Å–∏—Ç–µ–ª—è", chlorineTitle: "3. –î–æ–∑–∏—Ä–æ–≤–∫–∞ –≥—Ä–∞–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö–ª–æ—Ä–∞ (–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ)", chlorineDescription: "–°—Ä–µ–¥–Ω—è—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è –¥–æ–∑–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 4 –≥—Ä–∞–º–º–∞ –Ω–∞ 1000 –ª–∏—Ç—Ä–æ–≤. –≠—Ç–æ—Ç —Ä–∞—Å—á–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–º –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–ª–∏ —á–µ—Ä–µ–∑ –¥–µ–Ω—å.", calculateChlorineButton: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ–∑–∏—Ä–æ–≤–∫—É —Ö–ª–æ—Ä–∞", alertVolume: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –æ–±—ä–µ–º –±–∞—Å—Å–µ–π–Ω–∞ –ø–µ—Ä–µ–¥ —Ä–∞—Å—á–µ—Ç–æ–º.", alertFillFields: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –∏ –∂–µ–ª–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.", phOk: "–¢–µ–∫—É—â–∏–π pH —É–∂–µ –Ω–∞ –∂–µ–ª–∞–µ–º–æ–º —É—Ä–æ–≤–Ω–µ –∏–ª–∏ –≤—ã—à–µ. –ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.", phAction: "–í–∞–º —Å–ª–µ–¥—É–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ {amount} –∫–≥ –∫–∞–ª—å—Ü–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–æ–¥—ã (–ø–æ–≤—ã—Å–∏—Ç–µ–ª—å pH). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–æ—Å–∏—Ç—å –ø–æ—ç—Ç–∞–ø–Ω–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–¥–æ–∑–∏—Ä–æ–≤–∫–∏.", alkOk: "–¢–µ–∫—É—â–∞—è —â–µ–ª–æ—á–Ω–æ—Å—Ç—å —É–∂–µ –Ω–∞ –∂–µ–ª–∞–µ–º–æ–º —É—Ä–æ–≤–Ω–µ –∏–ª–∏ –≤—ã—à–µ. –ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.", alkAction: "–í–∞–º —Å–ª–µ–¥—É–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ {amount} –∫–≥ –ø–æ–≤—ã—Å–∏—Ç–µ–ª—è —â–µ–ª–æ—á–Ω–æ—Å—Ç–∏ (–±–∏–∫–∞—Ä–±–æ–Ω–∞—Ç –Ω–∞—Ç—Ä–∏—è).", chlorineAction: "–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–π –¥–æ–∑—ã –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ {amount} –≥—Ä–∞–º–º–æ–≤ –≥—Ä–∞–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö–ª–æ—Ä–∞.", explanationTitle: "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞:", volumeLine: "–û–±—ä–µ–º: {volume} –ª–∏—Ç—Ä–æ–≤ ({volumeM3} –º¬≥)", phIncreaseLine: "–¢—Ä–µ–±—É–µ–º–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ pH: —Å {current} –¥–æ {desired} = {diff}", phDosageLine: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–æ–∑–∏—Ä–æ–≤–∫–∞: {dosage}–≥/–º¬≥ –Ω–∞ –∫–∞–∂–¥—ã–µ 0.1 –ø–æ–≤—ã—à–µ–Ω–∏—è pH", phCalculationLine: "–†–∞—Å—á–µ—Ç: ({volumeM3} –º¬≥ * {dosage}–≥ * ({diff} / 0.1)) = {result} –≥—Ä–∞–º–º–æ–≤", alkIncreaseLine: "–¢—Ä–µ–±—É–µ–º–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —â–µ–ª–æ—á–Ω–æ—Å—Ç–∏: —Å {current} ppm –¥–æ {desired} ppm = {diff} ppm", alkDosageLine: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–æ–∑–∏—Ä–æ–≤–∫–∞: {dosage}–≥/–º¬≥ –Ω–∞ –∫–∞–∂–¥—ã–µ 10 ppm –ø–æ–≤—ã—à–µ–Ω–∏—è", alkCalculationLine: "–†–∞—Å—á–µ—Ç: ({volumeM3} –º¬≥ * {dosage}–≥ * ({diff} / 10)) = {result} –≥—Ä–∞–º–º–æ–≤", chlorineDosageLine: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è –¥–æ–∑–∏—Ä–æ–≤–∫–∞: {dosage}–≥ –Ω–∞ 1000 –ª–∏—Ç—Ä–æ–≤ (1 –º¬≥)", chlorineCalculationLine: "–†–∞—Å—á–µ—Ç: ({volumeM3} –º¬≥ * {dosage}–≥ = {result} –≥—Ä–∞–º–º–æ–≤", },
        hi: { name: "üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä", mainTitle: "‡§™‡•Ç‡§≤ ‡§â‡§™‡§ö‡§æ‡§∞ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞", poolVolumeLabel: "‡§™‡•Ç‡§≤ ‡§ï‡§æ ‡§Ü‡§Ø‡§§‡§® (‡§≤‡•Ä‡§ü‡§∞):", volumePlaceholder: "‡§â‡§¶‡§æ: 50000", phTitle: "1. ‡§™‡•Ä‡§è‡§ö ‡§∏‡§Æ‡§æ‡§Ø‡•ã‡§ú‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç (‡§∏‡•ã‡§°‡§æ ‡§ê‡§∂ ‡§∏‡•á ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç)", phCurrentLabel: "‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§™‡•Ä‡§è‡§ö:", phCurrentPlaceholder: "‡§â‡§¶‡§æ: 6.8", phDesiredLabel: "‡§µ‡§æ‡§Ç‡§õ‡§ø‡§§ ‡§™‡•Ä‡§è‡§ö (‡§Ü‡§¶‡§∞‡•ç‡§∂ 7.4):", calculatePhButton: "‡§∏‡•ã‡§°‡§æ ‡§ê‡§∂ ‡§ï‡•Ä ‡§ñ‡•Å‡§∞‡§æ‡§ï ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç", alkTitle: "2. ‡§ï‡•Å‡§≤ ‡§ï‡•ç‡§∑‡§æ‡§∞‡•Ä‡§Ø‡§§‡§æ ‡§∏‡§Æ‡§æ‡§Ø‡•ã‡§ú‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç (‡§¨‡§¢‡§º‡§æ‡§è‡§Ç)", alkCurrentLabel: "‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ï‡•ç‡§∑‡§æ‡§∞‡•Ä‡§Ø‡§§‡§æ (‡§™‡•Ä‡§™‡•Ä‡§è‡§Æ):", alkCurrentPlaceholder: "‡§â‡§¶‡§æ: 50", alkDesiredLabel: "‡§µ‡§æ‡§Ç‡§õ‡§ø‡§§ ‡§ï‡•ç‡§∑‡§æ‡§∞‡•Ä‡§Ø‡§§‡§æ (‡§Ü‡§¶‡§∞‡•ç‡§∂ 100 ‡§™‡•Ä‡§™‡•Ä‡§è‡§Æ):", calculateAlkButton: "‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡•Ä ‡§ñ‡•Å‡§∞‡§æ‡§ï ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç", chlorineTitle: "3. ‡§¶‡§æ‡§®‡•á‡§¶‡§æ‡§∞ ‡§ï‡•ç‡§≤‡•ã‡§∞‡•Ä‡§® ‡§ï‡•Ä ‡§ñ‡•Å‡§∞‡§æ‡§ï (‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ)", chlorineDescription: "‡§î‡§∏‡§§ ‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ ‡§ñ‡•Å‡§∞‡§æ‡§ï ‡§™‡•ç‡§∞‡§§‡§ø 1,000 ‡§≤‡•Ä‡§ü‡§∞ 4 ‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ó‡§£‡§®‡§æ ‡§¶‡•à‡§®‡§ø‡§ï ‡§Ø‡§æ ‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï ‡§¶‡§ø‡§® ‡§ï‡•á ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§π‡•à‡•§", calculateChlorineButton: "‡§ï‡•ç‡§≤‡•ã‡§∞‡•Ä‡§® ‡§ï‡•Ä ‡§ñ‡•Å‡§∞‡§æ‡§ï ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç", alertVolume: "‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§™‡•Ç‡§≤ ‡§Ü‡§Ø‡§§‡§® ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§", alertFillFields: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§î‡§∞ ‡§µ‡§æ‡§Ç‡§õ‡§ø‡§§ ‡§Æ‡§æ‡§® ‡§≠‡§∞‡•á‡§Ç‡•§", phOk: "‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§™‡•Ä‡§è‡§ö ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§π‡•Ä ‡§µ‡§æ‡§Ç‡§õ‡§ø‡§§ ‡§∏‡•ç‡§§‡§∞ ‡§™‡§∞ ‡§Ø‡§æ ‡§â‡§∏‡§∏‡•á ‡§ä‡§™‡§∞ ‡§π‡•à‡•§ ‡§á‡§∏‡•á ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§∏‡§Æ‡§æ‡§Ø‡•ã‡§ú‡§® ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§", phAction: "‡§Ü‡§™‡§ï‡•ã ‡§≤‡§ó‡§≠‡§ó {amount} ‡§ï‡§ø‡§≤‡•ã ‡§∏‡•ã‡§°‡§æ ‡§ê‡§∂ (‡§™‡•Ä‡§è‡§ö ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡§æ) ‡§°‡§æ‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§ì‡§µ‡§∞‡§°‡•ã‡§ú ‡§∏‡•á ‡§¨‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§∏‡•á ‡§ö‡§∞‡§£‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§ï‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§", alkOk: "‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ï‡•ç‡§∑‡§æ‡§∞‡•Ä‡§Ø‡§§‡§æ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§π‡•Ä ‡§µ‡§æ‡§Ç‡§õ‡§ø‡§§ ‡§∏‡•ç‡§§‡§∞ ‡§™‡§∞ ‡§Ø‡§æ ‡§â‡§∏‡§∏‡•á ‡§ä‡§™‡§∞ ‡§π‡•à‡•§ ‡§á‡§∏‡•á ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§∏‡§Æ‡§æ‡§Ø‡•ã‡§ú‡§® ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§", alkAction: "‡§Ü‡§™‡§ï‡•ã ‡§≤‡§ó‡§≠‡§ó {amount} ‡§ï‡§ø‡§≤‡•ã ‡§ï‡•ç‡§∑‡§æ‡§∞‡•Ä‡§Ø‡§§‡§æ ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡§æ (‡§∏‡•ã‡§°‡§ø‡§Ø‡§Æ ‡§¨‡§æ‡§á‡§ï‡§æ‡§∞‡•ç‡§¨‡•ã‡§®‡•á‡§ü) ‡§°‡§æ‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§", chlorineAction: "‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ ‡§ñ‡•Å‡§∞‡§æ‡§ï ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ü‡§™‡§ï‡•ã ‡§≤‡§ó‡§≠‡§ó {amount} ‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§¶‡§æ‡§®‡•á‡§¶‡§æ‡§∞ ‡§ï‡•ç‡§≤‡•ã‡§∞‡•Ä‡§® ‡§°‡§æ‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§", explanationTitle: "‡§ó‡§£‡§®‡§æ ‡§ï‡•Ä ‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ:", volumeLine: "‡§Ü‡§Ø‡§§‡§®: {volume} ‡§≤‡•Ä‡§ü‡§∞ ({volumeM3} m¬≥)", phIncreaseLine: "‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§™‡•Ä‡§è‡§ö ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø: {current} ‡§∏‡•á {desired} = {diff}", phDosageLine: "‡§Æ‡§æ‡§®‡§ï ‡§ñ‡•Å‡§∞‡§æ‡§ï: ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï 0.1 ‡§™‡•Ä‡§è‡§ö ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è {dosage}‡§ó‡•ç‡§∞‡§æ‡§Æ/m¬≥", phCalculationLine: "‡§ó‡§£‡§®‡§æ: ({volumeM3} m¬≥ * {dosage}g * ({diff} / 0.1)) = {result} ‡§ó‡•ç‡§∞‡§æ‡§Æ", alkIncreaseLine: "‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§ï‡•ç‡§∑‡§æ‡§∞‡•Ä‡§Ø‡§§‡§æ ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø: {current} ‡§™‡•Ä‡§™‡•Ä‡§è‡§Æ ‡§∏‡•á {desired} ‡§™‡•Ä‡§™‡•Ä‡§è‡§Æ = {diff} ‡§™‡•Ä‡§™‡•Ä‡§è‡§Æ", alkDosageLine: "‡§Æ‡§æ‡§®‡§ï ‡§ñ‡•Å‡§∞‡§æ‡§ï: ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï 10 ‡§™‡•Ä‡§™‡•Ä‡§è‡§Æ ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è {dosage}‡§ó‡•ç‡§∞‡§æ‡§Æ/m¬≥", alkCalculationLine: "‡§ó‡§£‡§®‡§æ: ({volumeM3} m¬≥ * {dosage}g * ({diff} / 10)) = {result} ‡§ó‡•ç‡§∞‡§æ‡§Æ", chlorineDosageLine: "‡§Æ‡§æ‡§®‡§ï ‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ ‡§ñ‡•Å‡§∞‡§æ‡§ï: ‡§™‡•ç‡§∞‡§§‡§ø 1,000 ‡§≤‡•Ä‡§ü‡§∞ (1 m¬≥) {dosage}‡§ó‡•ç‡§∞‡§æ‡§Æ", chlorineCalculationLine: "‡§ó‡§£‡§®‡§æ: {volumeM3} m¬≥ * {dosage}g = {result} ‡§ó‡•ç‡§∞‡§æ‡§Æ", },
        zh: { name: "üá®üá≥ ‰∏≠Êñá", mainTitle: "Ê≥≥Ê±†Â§ÑÁêÜËÆ°ÁÆóÂô®", poolVolumeLabel: "Ê≥≥Ê±†ÂÆπÈáèÔºàÂçáÔºâÔºö", volumePlaceholder: "‰æãÂ¶ÇÔºö50000", phTitle: "1. Ë∞ÉËäÇpHÂÄºÔºàÁî®ËãèÊâìÁ≤âÊèêÈ´òÔºâ", phCurrentLabel: "ÂΩìÂâçpHÂÄºÔºö", phCurrentPlaceholder: "‰æãÂ¶ÇÔºö6.8", phDesiredLabel: "ÊúüÊúõpHÂÄºÔºàÁêÜÊÉ≥7.4ÔºâÔºö", calculatePhButton: "ËÆ°ÁÆóËãèÊâìÁ≤âÁî®Èáè", alkTitle: "2. Ë∞ÉËäÇÊÄªÁ¢±Â∫¶ÔºàÊèêÈ´òÔºâ", alkCurrentLabel: "ÂΩìÂâçÁ¢±Â∫¶ÔºàppmÔºâÔºö", alkCurrentPlaceholder: "‰æãÂ¶ÇÔºö50", alkDesiredLabel: "ÊúüÊúõÁ¢±Â∫¶ÔºàÁêÜÊÉ≥100 ppmÔºâÔºö", calculateAlkButton: "ËÆ°ÁÆóÂ¢ûÊïàÂâÇÁî®Èáè", chlorineTitle: "3. È¢óÁ≤íÊ∞ØÁî®ÈáèÔºàÁª¥Êä§Ôºâ", chlorineDescription: "Âπ≥ÂùáÁª¥Êä§ÂâÇÈáè‰∏∫ÊØè1000Âçá4ÂÖã„ÄÇÊ≠§ËÆ°ÁÆóÂèØ‰Ωú‰∏∫ÊØèÊó•ÊàñÈöîÊó•‰ΩøÁî®ÁöÑÂèÇËÄÉ„ÄÇ", calculateChlorineButton: "ËÆ°ÁÆóÊ∞ØÁî®Èáè", alertVolume: "ËÆ°ÁÆóÂâçËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊ≥≥Ê±†ÂÆπÈáè„ÄÇ", alertFillFields: "ËØ∑Â°´ÂÜôÂΩìÂâçÂÄºÂíåÊúüÊúõÂÄº„ÄÇ", phOk: "ÂΩìÂâçpHÂÄºÂ∑≤ËææÂà∞ÊàñÈ´ò‰∫éÊúüÊúõÊ∞¥Âπ≥„ÄÇÊó†ÈúÄËøõË°åÊèêÈ´òË∞ÉÊï¥„ÄÇ", phAction: "ÊÇ®Â∫îÊ∑ªÂä†Á∫¶ {amount} ÂÖ¨Êñ§ÁöÑËãèÊâìÁ≤âÔºàpHÂ¢ûÈ´òÂâÇÔºâ„ÄÇÂª∫ËÆÆÂàÜÈò∂ÊÆµÊñΩÁî®Ôºå‰ª•ÂÖçËøáÈáè„ÄÇ", alkOk: "ÂΩìÂâçÁ¢±Â∫¶Â∑≤ËææÂà∞ÊàñÈ´ò‰∫éÊúüÊúõÊ∞¥Âπ≥„ÄÇÊó†ÈúÄËøõË°åÊèêÈ´òË∞ÉÊï¥„ÄÇ", alkAction: "ÊÇ®Â∫îÊ∑ªÂä†Á∫¶ {amount} ÂÖ¨Êñ§ÁöÑÁ¢±Â∫¶Â¢ûÈ´òÂâÇÔºàÁ¢≥ÈÖ∏Ê∞¢Èí†Ôºâ„ÄÇ", chlorineAction: "ÂØπ‰∫éÁª¥Êä§ÂâÇÈáèÔºåÊÇ®Â∫îÊ∑ªÂä†Á∫¶ {amount} ÂÖãÁöÑÈ¢óÁ≤íÊ∞Ø„ÄÇ", explanationTitle: "ËÆ°ÁÆóËØ¥ÊòéÔºö", volumeLine: "ÂÆπÈáèÔºö{volume} Âçá ({volumeM3} m¬≥)", phIncreaseLine: "ÈúÄË¶ÅÊèêÈ´òÁöÑpHÂÄºÔºö‰ªé {current} Âà∞ {desired} = {diff}", phDosageLine: "Ê†áÂáÜÁî®ÈáèÔºöÊØèÊèêÈ´ò0.1 pHÂÄºÔºåÊØèÁ´ãÊñπÁ±≥ {dosage} ÂÖã", phCalculationLine: "ËÆ°ÁÆóÔºö({volumeM3} m¬≥ * {dosage}g * ({diff} / 0.1)) = {result} ÂÖã", alkIncreaseLine: "ÈúÄË¶ÅÊèêÈ´òÁöÑÁ¢±Â∫¶Ôºö‰ªé {current} ppm Âà∞ {desired} ppm = {diff} ppm", alkDosageLine: "Ê†áÂáÜÁî®ÈáèÔºöÊØèÊèêÈ´ò10 ppmÔºåÊØèÁ´ãÊñπÁ±≥ {dosage} ÂÖã", alkCalculationLine: "ËÆ°ÁÆóÔºö({volumeM3} m¬≥ * {dosage}g * ({diff} / 10)) = {result} ÂÖã", chlorineDosageLine: "Ê†áÂáÜÁª¥Êä§Áî®ÈáèÔºöÊØè1000ÂçáÔºà1Á´ãÊñπÁ±≥Ôºâ{dosage} ÂÖã", chlorineCalculationLine: "ËÆ°ÁÆóÔºö({volumeM3} m¬≥ * {dosage}g = {result} ÂÖã", },
        en: { name: "üá∫üá∏ English", mainTitle: "Pool Treatment Calculator", poolVolumeLabel: "Pool Volume (Liters):", volumePlaceholder: "Ex: 50000", phTitle: "1. Adjust pH (Raise with Soda Ash)", phCurrentLabel: "Current pH:", phCurrentPlaceholder: "Ex: 6.8", phDesiredLabel: "Desired pH (Ideal 7.4):", calculatePhButton: "Calculate Soda Ash Dosage", alkTitle: "2. Adjust Total Alkalinity (Raise)", alkCurrentLabel: "Current Alkalinity (ppm):", alkCurrentPlaceholder: "Ex: 50", alkDesiredLabel: "Desired Alkalinity (Ideal 100 ppm):", calculateAlkButton: "Calculate Raiser Dosage", chlorineTitle: "3. Granular Chlorine Dosage (Maintenance)", chlorineDescription: "The average maintenance dose is 4 grams per 1,000 liters. This calculation is a reference for daily or alternate day application.", calculateChlorineButton: "Calculate Chlorine Dosage", alertVolume: "Please enter a valid pool volume before calculating.", alertFillFields: "Please fill in the current and desired values.", phOk: "The current pH is already at or above the desired level. No adjustment to raise it is necessary.", phAction: "You should add approximately {amount} kg of soda ash (pH increaser). It is recommended to apply in stages to avoid overdose.", alkOk: "The current alkalinity is already at or above the desired level. No adjustment to raise it is necessary.", alkAction: "You should add approximately {amount} kg of alkalinity increaser (sodium bicarbonate).", chlorineAction: "For a maintenance dose, you should add approximately {amount} grams of granular chlorine.", explanationTitle: "Calculation Explanation:", volumeLine: "Volume: {volume} liters ({volumeM3} m¬≥)", phIncreaseLine: "Required pH increase: From {current} to {desired} = {diff}", phDosageLine: "Standard dosage: {dosage}g/m¬≥ for each 0.1 pH increase", phCalculationLine: "Calculation: ({volumeM3} m¬≥ * {dosage}g * ({diff} / 0.1)) = {result} grams", alkIncreaseLine: "Required alkalinity increase: From {current} ppm to {desired} ppm = {diff} ppm", alkDosageLine: "Standard dosage: {dosage}g/m¬≥ for each 10 ppm increase", alkCalculationLine: "Calculation: ({volumeM3} m¬≥ * {dosage}g * ({diff} / 10)) = {result} grams", chlorineDosageLine: "Standard maintenance dosage: {dosage}g per 1,000 liters (1 m¬≥)", chlorineCalculationLine: "Calculation: {volumeM3} m¬≥ * {dosage}g = {result} grams", }
    };

    let currentLanguage = 'pt';

    const customSelect = document.querySelector('.custom-select-wrapper');
    const selectBtn = customSelect.querySelector('.select-btn');
    const selectContent = customSelect.querySelector('.select-content');
    const selectBtnText = selectBtn.querySelector('span');

    // Popula as op√ß√µes de idioma dinamicamente
    const langOptions = ['pt', 'ru', 'hi', 'zh', 'en'];
    langOptions.forEach(langCode => {
        const option = document.createElement('div');
        option.className = 'select-item';
        option.textContent = translations[langCode].name;
        option.dataset.lang = langCode;
        selectContent.appendChild(option);
    });

    const selectItems = selectContent.querySelectorAll('.select-item');

    selectBtn.addEventListener('click', () => {
        customSelect.classList.toggle('active');
    });

    selectItems.forEach(item => {
        item.addEventListener('click', () => {
            const lang = item.dataset.lang;
            setLanguage(lang);
            customSelect.classList.remove('active');
        });
    });
    
    // Fecha o dropdown se clicar fora
    document.addEventListener('click', (e) => {
        if (!customSelect.contains(e.target)) {
            customSelect.classList.remove('active');
        }
    });

    function setLanguage(lang) {
        currentLanguage = lang;
        document.documentElement.lang = lang;

        // Atualiza o texto do bot√£o do seletor personalizado
        selectBtnText.textContent = translations[lang].name;

        // Atualiza todos os outros textos da p√°gina
        document.querySelectorAll('[data-key]').forEach(elem => {
            const key = elem.getAttribute('data-key');
            if (translations[lang][key]) {
                elem.textContent = translations[lang][key];
            }
        });
        document.querySelectorAll('[data-placeholder-key]').forEach(elem => {
            const key = elem.getAttribute('data-placeholder-key');
            if (translations[lang][key]) {
                elem.placeholder = translations[lang][key];
            }
        });
    }

    // Define o idioma inicial ao carregar a p√°gina
    document.addEventListener('DOMContentLoaded', () => {
        setLanguage('pt');
    });

    function validarVolume() {
        const volumeInput = document.getElementById('volumePiscina');
        const volume = parseFloat(volumeInput.value);
        if (isNaN(volume) || volume <= 0) {
            alert(translations[currentLanguage].alertVolume);
            volumeInput.focus();
            return null;
        }
        return volume;
    }

    function exibirResultado(divId, frase, explicacao) {
        const resultadoDiv = document.getElementById(divId);
        const explanationTitle = translations[currentLanguage].explanationTitle;
        resultadoDiv.innerHTML = `<p class="frase-acao">${frase}</p><div class="explicacao-calculo"><strong>${explanationTitle}</strong><br>${explicacao}</div>`;
        resultadoDiv.style.display = 'block';
    }

    function calcularPH() {
        const volume = validarVolume();
        if (!volume) return;

        const atual = parseFloat(document.getElementById('phAtual').value);
        const desejado = parseFloat(document.getElementById('phDesejado').value);
        
        if (isNaN(atual) || isNaN(desejado)) {
            exibirResultado('resultadoPH', translations[currentLanguage].alertFillFields, '');
            return;
        }

        if (atual >= desejado) {
            exibirResultado('resultadoPH', translations[currentLanguage].phOk, '');
            return;
        }

        const volumeM3 = volume / 1000;
        const gramasPorM3PorPonto = 6;
        const aumentoNecessario = desejado - atual;
        const dosagemGramas = volumeM3 * gramasPorM3PorPonto * (aumentoNecessario / 0.1);
        const dosagemKg = dosagemGramas / 1000;

        const frase = translations[currentLanguage].phAction.replace('{amount}', dosagemKg.toFixed(2));
        const explicacao = [
            translations[currentLanguage].volumeLine.replace('{volume}', volume.toLocaleString()).replace('{volumeM3}', volumeM3.toFixed(2)),
            translations[currentLanguage].phIncreaseLine.replace('{current}', atual).replace('{desired}', desejado).replace('{diff}', aumentoNecessario.toFixed(1)),
            translations[currentLanguage].phDosageLine.replace('{dosage}', gramasPorM3PorPonto),
            translations[currentLanguage].phCalculationLine.replace('{volumeM3}', volumeM3.toFixed(2)).replace('{dosage}', gramasPorM3PorPonto).replace('{diff}', aumentoNecessario.toFixed(1)).replace('{result}', dosagemGramas.toFixed(2))
        ].join('<br>');

        exibirResultado('resultadoPH', frase, explicacao);
    }

    function calcularAlcalinidade() {
        const volume = validarVolume();
        if (!volume) return;

        const atual = parseFloat(document.getElementById('alcalinidadeAtual').value);
        const desejado = parseFloat(document.getElementById('alcalinidadeDesejada').value);
        
        if (isNaN(atual) || isNaN(desejado)) {
            exibirResultado('resultadoAlcalinidade', translations[currentLanguage].alertFillFields, '');
            return;
        }

        if (atual >= desejado) {
            exibirResultado('resultadoAlcalinidade', translations[currentLanguage].alkOk, '');
            return;
        }

        const volumeM3 = volume / 1000;
        const gramasPorM3Por10PPM = 18;
        const aumentoNecessario = desejado - atual;
        const dosagemGramas = volumeM3 * gramasPorM3Por10PPM * (aumentoNecessario / 10);
        const dosagemKg = dosagemGramas / 1000;

        const frase = translations[currentLanguage].alkAction.replace('{amount}', dosagemKg.toFixed(2));
        const explicacao = [
            translations[currentLanguage].volumeLine.replace('{volume}', volume.toLocaleString()).replace('{volumeM3}', volumeM3.toFixed(2)),
            translations[currentLanguage].alkIncreaseLine.replace('{current}', atual).replace('{desired}', desejado).replace('{diff}', aumentoNecessario.toFixed(0)),
            translations[currentLanguage].alkDosageLine.replace('{dosage}', gramasPorM3Por10PPM),
            translations[currentLanguage].alkCalculationLine.replace('{volumeM3}', volumeM3.toFixed(2)).replace('{dosage}', gramasPorM3Por10PPM).replace('{diff}', aumentoNecessario.toFixed(0)).replace('{result}', dosagemGramas.toFixed(2))
        ].join('<br>');

        exibirResultado('resultadoAlcalinidade', frase, explicacao);
    }

    function calcularCloro() {
        const volume = validarVolume();
        if (!volume) return;
        
        const volumeM3 = volume / 1000;
        const gramasPorM3 = 4;
        const dosagemGramas = volumeM3 * gramasPorM3;

        const frase = translations[currentLanguage].chlorineAction.replace('{amount}', dosagemGramas.toFixed(0));
        const explicacao = [
             translations[currentLanguage].volumeLine.replace('{volume}', volume.toLocaleString()).replace('{volumeM3}', volumeM3.toFixed(2)),
             translations[currentLanguage].chlorineDosageLine.replace('{dosage}', gramasPorM3),
             translations[currentLanguage].chlorineCalculationLine.replace('{volumeM3}', volumeM3.toFixed(2)).replace('{dosage}', gramasPorM3).replace('{result}', dosagemGramas.toFixed(2))
        ].join('<br>');
        
        exibirResultado('resultadoCloro', frase, explicacao);
    }
</script>

</body>
</html>

