<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora para Tratamento de Piscinas</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f7ff;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap; /* Para telas menores */
            gap: 15px;
        }
        h1 {
            color: #0056b3;
            margin: 0;
            font-size: 1.8em;
        }
        h2 {
            color: #0056b3;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            text-align: center;
        }
        /* Estilos para o seletor de idioma personalizado */
        .custom-select-wrapper {
            position: relative;
            width: 180px;
            user-select: none;
        }
        .select-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 14px;
            background-color: #f7f7f7;
            border: 1px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
        }
        .select-btn::after {
            content: 'â–¼';
            font-size: 0.7em;
            color: #888;
        }
        .select-content {
            position: absolute;
            top: 110%;
            left: 0;
            width: 100%;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            z-index: 10;
            display: none; /* Inicia oculto */
        }
        .custom-select-wrapper.active .select-content {
            display: block;
        }
        .select-item {
            padding: 10px 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .select-item:hover {
            background-color: #f0f7ff;
        }
        .secao-calculo {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }
        .input-group {
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
        }
        label {
            font-weight: bold;
            color: #555;
            min-width: 180px;
        }
        input[type="number"] {
            width: 150px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s;
            display: block;
            margin: 10px auto 0;
        }
        button:hover {
            background-color: #0056b3;
        }
        .resultado {
            margin-top: 20px;
            padding: 15px;
            background-color: #e6f7ff;
            border: 1px solid #b3e0ff;
            border-radius: 5px;
            display: none; /* Inicia oculto */
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .resultado p {
            margin: 0 0 10px 0;
        }
        .resultado .frase-acao {
            font-weight: bold;
            font-size: 1.1em;
            color: #004085;
        }
        .resultado .explicacao-calculo {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            font-size: 0.9em;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        #volume-piscina-group {
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 data-key="mainTitle"></h1>
        <!-- Seletor de Idioma Personalizado -->
        <div class="custom-select-wrapper">
            <div class="select-btn">
                <span></span>
            </div>
            <div class="select-content">
                <!-- As opÃ§Ãµes serÃ£o adicionadas via JavaScript -->
            </div>
        </div>
    </div>

    <div id="volume-piscina-group" class="input-group">
        <label for="volumePiscina" data-key="poolVolumeLabel"></label>
        <input type="number" id="volumePiscina" data-placeholder-key="volumePlaceholder">
    </div>

    <div class="secao-calculo">
        <h2 data-key="phTitle"></h2>
        <div class="input-group">
            <label for="phAtual" data-key="phCurrentLabel"></label>
            <input type="number" id="phAtual" step="0.1" data-placeholder-key="phCurrentPlaceholder">
        </div>
        <div class="input-group">
            <label for="phDesejado" data-key="phDesiredLabel"></label>
            <input type="number" id="phDesejado" step="0.1" value="7.4">
        </div>
        <button onclick="calcularPH()" data-key="calculatePhButton"></button>
        <div class="resultado" id="resultadoPH"></div>
    </div>

    <div class="secao-calculo">
        <h2 data-key="alkTitle"></h2>
        <div class="input-group">
            <label for="alcalinidadeAtual" data-key="alkCurrentLabel"></label>
            <input type="number" id="alcalinidadeAtual" step="5" data-placeholder-key="alkCurrentPlaceholder">
        </div>
        <div class="input-group">
            <label for="alcalinidadeDesejada" data-key="alkDesiredLabel"></label>
            <input type="number" id="alcalinidadeDesejada" step="5" value="100">
        </div>
        <button onclick="calcularAlcalinidade()" data-key="calculateAlkButton"></button>
        <div class="resultado" id="resultadoAlcalinidade"></div>
    </div>

    <div class="secao-calculo">
        <h2 data-key="chlorineTitle"></h2>
        <p data-key="chlorineDescription"></p>
        <button onclick="calcularCloro()" data-key="calculateChlorineButton"></button>
        <div class="resultado" id="resultadoCloro"></div>
    </div>

</div>

<script>
    const translations = {
        pt: { name: "ðŸ‡§ðŸ‡· PortuguÃªs", mainTitle: "Calculadora para Tratamento de Piscinas", poolVolumeLabel: "Volume da Piscina (Litros):", volumePlaceholder: "Ex: 50000", phTitle: "1. Ajustar pH (Elevar com Barrilha)", phCurrentLabel: "pH Atual:", phCurrentPlaceholder: "Ex: 6.8", phDesiredLabel: "pH Desejado (Ideal 7.4):", calculatePhButton: "Calcular Dosagem de Barrilha", alkTitle: "2. Ajustar Alcalinidade Total (Elevar)", alkCurrentLabel: "Alcalinidade Atual (ppm):", alkCurrentPlaceholder: "Ex: 50", alkDesiredLabel: "Alcalinidade Desejada (Ideal 100 ppm):", calculateAlkButton: "Calcular Dosagem de Elevador", chlorineTitle: "3. Dosagem de Cloro Granulado (ManutenÃ§Ã£o)", chlorineDescription: "A dosagem mÃ©dia para manutenÃ§Ã£o Ã© de 4 gramas por 1.000 litros. Este cÃ¡lculo Ã© uma referÃªncia para a aplicaÃ§Ã£o diÃ¡ria ou em dias alternados.", calculateChlorineButton: "Calcular Dosagem de Cloro", alertVolume: "Por favor, insira um volume vÃ¡lido para a piscina antes de calcular.", alertFillFields: "Por favor, preencha os valores atual e desejado.", phOk: "O pH atual jÃ¡ estÃ¡ no nÃ­vel desejado ou acima dele. Nenhum ajuste para elevar Ã© necessÃ¡rio.", phAction: "VocÃª deve adicionar aproximadamente {amount} kg de barrilha (elevador de pH). Ã‰ recomendado aplicar em etapas para nÃ£o superdosar.", alkOk: "A alcalinidade atual jÃ¡ estÃ¡ no nÃ­vel desejado ou acima dele. Nenhum ajuste para elevar Ã© necessÃ¡rio.", alkAction: "VocÃª deve adicionar aproximadamente {amount} kg de elevador de alcalinidade (bicarbonato de sÃ³dio).", chlorineAction: "Para uma dosagem de manutenÃ§Ã£o, vocÃª deve adicionar aproximadamente {amount} gramas de cloro granulado.", explanationTitle: "ExplicaÃ§Ã£o do CÃ¡lculo:", volumeLine: "Volume: {volume} litros ({volumeM3} mÂ³)", phIncreaseLine: "Aumento de pH necessÃ¡rio: De {current} para {desired} = {diff}", phDosageLine: "Dosagem padrÃ£o: {dosage}g/mÂ³ para cada 0.1 de aumento de pH", phCalculationLine: "CÃ¡lculo: ({volumeM3} mÂ³ * {dosage}g * ({diff} / 0.1)) = {result} gramas", alkIncreaseLine: "Aumento de alcalinidade necessÃ¡rio: De {current} ppm para {desired} ppm = {diff} ppm", alkDosageLine: "Dosagem padrÃ£o: {dosage}g/mÂ³ para cada 10 ppm de aumento", alkCalculationLine: "CÃ¡lculo: ({volumeM3} mÂ³ * {dosage}g * ({diff} / 10)) = {result} gramas", chlorineDosageLine: "Dosagem padrÃ£o de manutenÃ§Ã£o: {dosage}g por 1.000 litros (1 mÂ³)", chlorineCalculationLine: "CÃ¡lculo: {volumeM3} mÂ³ * {dosage}g = {result} gramas", },
        ru: { name: "ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹", mainTitle: "ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€ Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð±Ð°ÑÑÐµÐ¹Ð½Ð°", poolVolumeLabel: "ÐžÐ±ÑŠÐµÐ¼ Ð±Ð°ÑÑÐµÐ¹Ð½Ð° (Ð»Ð¸Ñ‚Ñ€Ñ‹):", volumePlaceholder: "ÐŸÑ€Ð¸Ð¼ÐµÑ€: 50000", phTitle: "1. Ð ÐµÐ³ÑƒÐ»Ð¸Ñ€Ð¾Ð²ÐºÐ° pH (Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ðµ ÐºÐ°Ð»ÑŒÑ†Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ ÑÐ¾Ð´Ð¾Ð¹)", phCurrentLabel: "Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ pH:", phCurrentPlaceholder: "ÐŸÑ€Ð¸Ð¼ÐµÑ€: 6.8", phDesiredLabel: "Ð–ÐµÐ»Ð°ÐµÐ¼Ñ‹Ð¹ pH (Ð¸Ð´ÐµÐ°Ð» 7.4):", calculatePhButton: "Ð Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÑƒ ÑÐ¾Ð´Ñ‹", alkTitle: "2. Ð ÐµÐ³ÑƒÐ»Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¾Ð±Ñ‰ÐµÐ¹ Ñ‰ÐµÐ»Ð¾Ñ‡Ð½Ð¾ÑÑ‚Ð¸ (Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ðµ)", alkCurrentLabel: "Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ñ‰ÐµÐ»Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ (ppm):", alkCurrentPlaceholder: "ÐŸÑ€Ð¸Ð¼ÐµÑ€: 50", alkDesiredLabel: "Ð–ÐµÐ»Ð°ÐµÐ¼Ð°Ñ Ñ‰ÐµÐ»Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ (Ð¸Ð´ÐµÐ°Ð» 100 ppm):", calculateAlkButton: "Ð Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÑƒ Ð¿Ð¾Ð²Ñ‹ÑÐ¸Ñ‚ÐµÐ»Ñ", chlorineTitle: "3. Ð”Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð³Ñ€Ð°Ð½ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ…Ð»Ð¾Ñ€Ð° (Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ)", chlorineDescription: "Ð¡Ñ€ÐµÐ´Ð½ÑÑ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÑŽÑ‰Ð°Ñ Ð´Ð¾Ð·Ð° ÑÐ¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ 4 Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð½Ð° 1000 Ð»Ð¸Ñ‚Ñ€Ð¾Ð². Ð­Ñ‚Ð¾Ñ‚ Ñ€Ð°ÑÑ‡ÐµÑ‚ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð¾Ñ‡Ð½Ñ‹Ð¼ Ð´Ð»Ñ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¸Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ð´ÐµÐ½ÑŒ.", calculateChlorineButton: "Ð Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÑƒ Ñ…Ð»Ð¾Ñ€Ð°", alertVolume: "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð±ÑŠÐµÐ¼ Ð±Ð°ÑÑÐµÐ¹Ð½Ð° Ð¿ÐµÑ€ÐµÐ´ Ñ€Ð°ÑÑ‡ÐµÑ‚Ð¾Ð¼.", alertFillFields: "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ðµ Ð¸ Ð¶ÐµÐ»Ð°ÐµÐ¼Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ.", phOk: "Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ pH ÑƒÐ¶Ðµ Ð½Ð° Ð¶ÐµÐ»Ð°ÐµÐ¼Ð¾Ð¼ ÑƒÑ€Ð¾Ð²Ð½Ðµ Ð¸Ð»Ð¸ Ð²Ñ‹ÑˆÐµ. ÐŸÐ¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ðµ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ.", phAction: "Ð’Ð°Ð¼ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ {amount} ÐºÐ³ ÐºÐ°Ð»ÑŒÑ†Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ ÑÐ¾Ð´Ñ‹ (Ð¿Ð¾Ð²Ñ‹ÑÐ¸Ñ‚ÐµÐ»ÑŒ pH). Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð²Ð½Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾ÑÑ‚Ð°Ð¿Ð½Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¸Ð·Ð±ÐµÐ¶Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÐ¸.", alkOk: "Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ñ‰ÐµÐ»Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ ÑƒÐ¶Ðµ Ð½Ð° Ð¶ÐµÐ»Ð°ÐµÐ¼Ð¾Ð¼ ÑƒÑ€Ð¾Ð²Ð½Ðµ Ð¸Ð»Ð¸ Ð²Ñ‹ÑˆÐµ. ÐŸÐ¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ðµ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ.", alkAction: "Ð’Ð°Ð¼ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ {amount} ÐºÐ³ Ð¿Ð¾Ð²Ñ‹ÑÐ¸Ñ‚ÐµÐ»Ñ Ñ‰ÐµÐ»Ð¾Ñ‡Ð½Ð¾ÑÑ‚Ð¸ (Ð±Ð¸ÐºÐ°Ñ€Ð±Ð¾Ð½Ð°Ñ‚ Ð½Ð°Ñ‚Ñ€Ð¸Ñ).", chlorineAction: "Ð”Ð»Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÑŽÑ‰ÐµÐ¹ Ð´Ð¾Ð·Ñ‹ Ð²Ð°Ð¼ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ {amount} Ð³Ñ€Ð°Ð¼Ð¼Ð¾Ð² Ð³Ñ€Ð°Ð½ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ…Ð»Ð¾Ñ€Ð°.", explanationTitle: "ÐžÐ±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ Ñ€Ð°ÑÑ‡ÐµÑ‚Ð°:", volumeLine: "ÐžÐ±ÑŠÐµÐ¼: {volume} Ð»Ð¸Ñ‚Ñ€Ð¾Ð² ({volumeM3} Ð¼Â³)", phIncreaseLine: "Ð¢Ñ€ÐµÐ±ÑƒÐµÐ¼Ð¾Ðµ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ðµ pH: Ñ {current} Ð´Ð¾ {desired} = {diff}", phDosageLine: "Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð°Ñ Ð´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÐ°: {dosage}Ð³/Ð¼Â³ Ð½Ð° ÐºÐ°Ð¶Ð´Ñ‹Ðµ 0.1 Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ñ pH", phCalculationLine: "Ð Ð°ÑÑ‡ÐµÑ‚: ({volumeM3} Ð¼Â³ * {dosage}Ð³ * ({diff} / 0.1)) = {result} Ð³Ñ€Ð°Ð¼Ð¼Ð¾Ð²", alkIncreaseLine: "Ð¢Ñ€ÐµÐ±ÑƒÐµÐ¼Ð¾Ðµ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ðµ Ñ‰ÐµÐ»Ð¾Ñ‡Ð½Ð¾ÑÑ‚Ð¸: Ñ {current} ppm Ð´Ð¾ {desired} ppm = {diff} ppm", alkDosageLine: "Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð°Ñ Ð´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÐ°: {dosage}Ð³/Ð¼Â³ Ð½Ð° ÐºÐ°Ð¶Ð´Ñ‹Ðµ 10 ppm Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ñ", alkCalculationLine: "Ð Ð°ÑÑ‡ÐµÑ‚: ({volumeM3} Ð¼Â³ * {dosage}Ð³ * ({diff} / 10)) = {result} Ð³Ñ€Ð°Ð¼Ð¼Ð¾Ð²", chlorineDosageLine: "Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÑŽÑ‰Ð°Ñ Ð´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÐ°: {dosage}Ð³ Ð½Ð° 1000 Ð»Ð¸Ñ‚Ñ€Ð¾Ð² (1 Ð¼Â³)", chlorineCalculationLine: "Ð Ð°ÑÑ‡ÐµÑ‚: ({volumeM3} Ð¼Â³ * {dosage}Ð³ = {result} Ð³Ñ€Ð°Ð¼Ð¼Ð¾Ð²", },
        hi: { name: "ðŸ‡®ðŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€", mainTitle: "à¤ªà¥‚à¤² à¤‰à¤ªà¤šà¤¾à¤° à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°", poolVolumeLabel: "à¤ªà¥‚à¤² à¤•à¤¾ à¤†à¤¯à¤¤à¤¨ (à¤²à¥€à¤Ÿà¤°):", volumePlaceholder: "à¤‰à¤¦à¤¾: 50000", phTitle: "1. à¤ªà¥€à¤à¤š à¤¸à¤®à¤¾à¤¯à¥‹à¤œà¤¿à¤¤ à¤•à¤°à¥‡à¤‚ (à¤¸à¥‹à¤¡à¤¾ à¤à¤¶ à¤¸à¥‡ à¤¬à¤¢à¤¼à¤¾à¤à¤‚)", phCurrentLabel: "à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤ªà¥€à¤à¤š:", phCurrentPlaceholder: "à¤‰à¤¦à¤¾: 6.8", phDesiredLabel: "à¤µà¤¾à¤‚à¤›à¤¿à¤¤ à¤ªà¥€à¤à¤š (à¤†à¤¦à¤°à¥à¤¶ 7.4):", calculatePhButton: "à¤¸à¥‹à¤¡à¤¾ à¤à¤¶ à¤•à¥€ à¤–à¥à¤°à¤¾à¤• à¤•à¥€ à¤—à¤£à¤¨à¤¾ à¤•à¤°à¥‡à¤‚", alkTitle: "2. à¤•à¥à¤² à¤•à¥à¤·à¤¾à¤°à¥€à¤¯à¤¤à¤¾ à¤¸à¤®à¤¾à¤¯à¥‹à¤œà¤¿à¤¤ à¤•à¤°à¥‡à¤‚ (à¤¬à¤¢à¤¼à¤¾à¤à¤‚)", alkCurrentLabel: "à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯à¤¤à¤¾ (à¤ªà¥€à¤ªà¥€à¤à¤®):", alkCurrentPlaceholder: "à¤‰à¤¦à¤¾: 50", alkDesiredLabel: "à¤µà¤¾à¤‚à¤›à¤¿à¤¤ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯à¤¤à¤¾ (à¤†à¤¦à¤°à¥à¤¶ 100 à¤ªà¥€à¤ªà¥€à¤à¤®):", calculateAlkButton: "à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤•à¥€ à¤–à¥à¤°à¤¾à¤• à¤•à¥€ à¤—à¤£à¤¨à¤¾ à¤•à¤°à¥‡à¤‚", chlorineTitle: "3. à¤¦à¤¾à¤¨à¥‡à¤¦à¤¾à¤° à¤•à¥à¤²à¥‹à¤°à¥€à¤¨ à¤•à¥€ à¤–à¥à¤°à¤¾à¤• (à¤°à¤–à¤°à¤–à¤¾à¤µ)", chlorineDescription: "à¤”à¤¸à¤¤ à¤°à¤–à¤°à¤–à¤¾à¤µ à¤–à¥à¤°à¤¾à¤• à¤ªà¥à¤°à¤¤à¤¿ 1,000 à¤²à¥€à¤Ÿà¤° 4 à¤—à¥à¤°à¤¾à¤® à¤¹à¥ˆà¥¤ à¤¯à¤¹ à¤—à¤£à¤¨à¤¾ à¤¦à¥ˆà¤¨à¤¿à¤• à¤¯à¤¾ à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤• à¤¦à¤¿à¤¨ à¤•à¥‡ à¤†à¤µà¥‡à¤¦à¤¨ à¤•à¥‡ à¤²à¤¿à¤ à¤à¤• à¤¸à¤‚à¤¦à¤°à¥à¤­ à¤¹à¥ˆà¥¤", calculateChlorineButton: "à¤•à¥à¤²à¥‹à¤°à¥€à¤¨ à¤•à¥€ à¤–à¥à¤°à¤¾à¤• à¤•à¥€ à¤—à¤£à¤¨à¤¾ à¤•à¤°à¥‡à¤‚", alertVolume: "à¤—à¤£à¤¨à¤¾ à¤•à¤°à¤¨à¥‡ à¤¸à¥‡ à¤ªà¤¹à¤²à¥‡ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤à¤• à¤®à¤¾à¤¨à¥à¤¯ à¤ªà¥‚à¤² à¤†à¤¯à¤¤à¤¨ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚à¥¤", alertFillFields: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤”à¤° à¤µà¤¾à¤‚à¤›à¤¿à¤¤ à¤®à¤¾à¤¨ à¤­à¤°à¥‡à¤‚à¥¤", phOk: "à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤ªà¥€à¤à¤š à¤ªà¤¹à¤²à¥‡ à¤¸à¥‡ à¤¹à¥€ à¤µà¤¾à¤‚à¤›à¤¿à¤¤ à¤¸à¥à¤¤à¤° à¤ªà¤° à¤¯à¤¾ à¤‰à¤¸à¤¸à¥‡ à¤Šà¤ªà¤° à¤¹à¥ˆà¥¤ à¤‡à¤¸à¥‡ à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥‹à¤ˆ à¤¸à¤®à¤¾à¤¯à¥‹à¤œà¤¨ à¤†à¤µà¤¶à¥à¤¯à¤• à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤", phAction: "à¤†à¤ªà¤•à¥‹ à¤²à¤—à¤­à¤— {amount} à¤•à¤¿à¤²à¥‹ à¤¸à¥‹à¤¡à¤¾ à¤à¤¶ (à¤ªà¥€à¤à¤š à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¤¾) à¤¡à¤¾à¤²à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤à¥¤ à¤“à¤µà¤°à¤¡à¥‹à¤œ à¤¸à¥‡ à¤¬à¤šà¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤‡à¤¸à¥‡ à¤šà¤°à¤£à¥‹à¤‚ à¤®à¥‡à¤‚ à¤²à¤¾à¤—à¥‚ à¤•à¤°à¤¨à¥‡ à¤•à¥€ à¤¸à¤¿à¤«à¤¾à¤°à¤¿à¤¶ à¤•à¥€ à¤œà¤¾à¤¤à¥€ à¤¹à¥ˆà¥¤", alkOk: "à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯à¤¤à¤¾ à¤ªà¤¹à¤²à¥‡ à¤¸à¥‡ à¤¹à¥€ à¤µà¤¾à¤‚à¤›à¤¿à¤¤ à¤¸à¥à¤¤à¤° à¤ªà¤° à¤¯à¤¾ à¤‰à¤¸à¤¸à¥‡ à¤Šà¤ªà¤° à¤¹à¥ˆà¥¤ à¤‡à¤¸à¥‡ à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥‹à¤ˆ à¤¸à¤®à¤¾à¤¯à¥‹à¤œà¤¨ à¤†à¤µà¤¶à¥à¤¯à¤• à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤", alkAction: "à¤†à¤ªà¤•à¥‹ à¤²à¤—à¤­à¤— {amount} à¤•à¤¿à¤²à¥‹ à¤•à¥à¤·à¤¾à¤°à¥€à¤¯à¤¤à¤¾ à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¤¾ (à¤¸à¥‹à¤¡à¤¿à¤¯à¤® à¤¬à¤¾à¤‡à¤•à¤¾à¤°à¥à¤¬à¥‹à¤¨à¥‡à¤Ÿ) à¤¡à¤¾à¤²à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤à¥¤", chlorineAction: "à¤°à¤–à¤°à¤–à¤¾à¤µ à¤–à¥à¤°à¤¾à¤• à¤•à¥‡ à¤²à¤¿à¤, à¤†à¤ªà¤•à¥‹ à¤²à¤—à¤­à¤— {amount} à¤—à¥à¤°à¤¾à¤® à¤¦à¤¾à¤¨à¥‡à¤¦à¤¾à¤° à¤•à¥à¤²à¥‹à¤°à¥€à¤¨ à¤¡à¤¾à¤²à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤à¥¤", explanationTitle: "à¤—à¤£à¤¨à¤¾ à¤•à¥€ à¤µà¥à¤¯à¤¾à¤–à¥à¤¯à¤¾:", volumeLine: "à¤†à¤¯à¤¤à¤¨: {volume} à¤²à¥€à¤Ÿà¤° ({volumeM3} mÂ³)", phIncreaseLine: "à¤†à¤µà¤¶à¥à¤¯à¤• à¤ªà¥€à¤à¤š à¤µà¥ƒà¤¦à¥à¤§à¤¿: {current} à¤¸à¥‡ {desired} = {diff}", phDosageLine: "à¤®à¤¾à¤¨à¤• à¤–à¥à¤°à¤¾à¤•: à¤ªà¥à¤°à¤¤à¥à¤¯à¥‡à¤• 0.1 à¤ªà¥€à¤à¤š à¤µà¥ƒà¤¦à¥à¤§à¤¿ à¤•à¥‡ à¤²à¤¿à¤ {dosage}à¤—à¥à¤°à¤¾à¤®/mÂ³", phCalculationLine: "à¤—à¤£à¤¨à¤¾: ({volumeM3} mÂ³ * {dosage}g * ({diff} / 0.1)) = {result} à¤—à¥à¤°à¤¾à¤®", alkIncreaseLine: "à¤†à¤µà¤¶à¥à¤¯à¤• à¤•à¥à¤·à¤¾à¤°à¥€à¤¯à¤¤à¤¾ à¤µà¥ƒà¤¦à¥à¤§à¤¿: {current} à¤ªà¥€à¤ªà¥€à¤à¤® à¤¸à¥‡ {desired} à¤ªà¥€à¤ªà¥€à¤à¤® = {diff} à¤ªà¥€à¤ªà¥€à¤à¤®", alkDosageLine: "à¤®à¤¾à¤¨à¤• à¤–à¥à¤°à¤¾à¤•: à¤ªà¥à¤°à¤¤à¥à¤¯à¥‡à¤• 10 à¤ªà¥€à¤ªà¥€à¤à¤® à¤µà¥ƒà¤¦à¥à¤§à¤¿ à¤•à¥‡ à¤²à¤¿à¤ {dosage}à¤—à¥à¤°à¤¾à¤®/mÂ³", alkCalculationLine: "à¤—à¤£à¤¨à¤¾: ({volumeM3} mÂ³ * {dosage}g * ({diff} / 10)) = {result} à¤—à¥à¤°à¤¾à¤®", chlorineDosageLine: "à¤®à¤¾à¤¨à¤• à¤°à¤–à¤°à¤–à¤¾à¤µ à¤–à¥à¤°à¤¾à¤•: à¤ªà¥à¤°à¤¤à¤¿ 1,000 à¤²à¥€à¤Ÿà¤° (1 mÂ³) {dosage}à¤—à¥à¤°à¤¾à¤®", chlorineCalculationLine: "à¤—à¤£à¤¨à¤¾: {volumeM3} mÂ³ * {dosage}g = {result} à¤—à¥à¤°à¤¾à¤®", },
        zh: { name: "ðŸ‡¨ðŸ‡³ ä¸­æ–‡", mainTitle: "æ³³æ± å¤„ç†è®¡ç®—å™¨", poolVolumeLabel: "æ³³æ± å®¹é‡ï¼ˆå‡ï¼‰ï¼š", volumePlaceholder: "ä¾‹å¦‚ï¼š50000", phTitle: "1. è°ƒèŠ‚pHå€¼ï¼ˆç”¨è‹æ‰“ç²‰æé«˜ï¼‰", phCurrentLabel: "å½“å‰pHå€¼ï¼š", phCurrentPlaceholder: "ä¾‹å¦‚ï¼š6.8", phDesiredLabel: "æœŸæœ›pHå€¼ï¼ˆç†æƒ³7.4ï¼‰ï¼š", calculatePhButton: "è®¡ç®—è‹æ‰“ç²‰ç”¨é‡", alkTitle: "2. è°ƒèŠ‚æ€»ç¢±åº¦ï¼ˆæé«˜ï¼‰", alkCurrentLabel: "å½“å‰ç¢±åº¦ï¼ˆppmï¼‰ï¼š", alkCurrentPlaceholder: "ä¾‹å¦‚ï¼š50", alkDesiredLabel: "æœŸæœ›ç¢±åº¦ï¼ˆç†æƒ³100 ppmï¼‰ï¼š", calculateAlkButton: "è®¡ç®—å¢žæ•ˆå‰‚ç”¨é‡", chlorineTitle: "3. é¢—ç²’æ°¯ç”¨é‡ï¼ˆç»´æŠ¤ï¼‰", chlorineDescription: "å¹³å‡ç»´æŠ¤å‰‚é‡ä¸ºæ¯1000å‡4å…‹ã€‚æ­¤è®¡ç®—å¯ä½œä¸ºæ¯æ—¥æˆ–éš”æ—¥ä½¿ç”¨çš„å‚è€ƒã€‚", calculateChlorineButton: "è®¡ç®—æ°¯ç”¨é‡", alertVolume: "è®¡ç®—å‰è¯·è¾“å…¥æœ‰æ•ˆçš„æ³³æ± å®¹é‡ã€‚", alertFillFields: "è¯·å¡«å†™å½“å‰å€¼å’ŒæœŸæœ›å€¼ã€‚", phOk: "å½“å‰pHå€¼å·²è¾¾åˆ°æˆ–é«˜äºŽæœŸæœ›æ°´å¹³ã€‚æ— éœ€è¿›è¡Œæé«˜è°ƒæ•´ã€‚", phAction: "æ‚¨åº”æ·»åŠ çº¦ {amount} å…¬æ–¤çš„è‹æ‰“ç²‰ï¼ˆpHå¢žé«˜å‰‚ï¼‰ã€‚å»ºè®®åˆ†é˜¶æ®µæ–½ç”¨ï¼Œä»¥å…è¿‡é‡ã€‚", alkOk: "å½“å‰ç¢±åº¦å·²è¾¾åˆ°æˆ–é«˜äºŽæœŸæœ›æ°´å¹³ã€‚æ— éœ€è¿›è¡Œæé«˜è°ƒæ•´ã€‚", alkAction: "æ‚¨åº”æ·»åŠ çº¦ {amount} å…¬æ–¤çš„ç¢±åº¦å¢žé«˜å‰‚ï¼ˆç¢³é…¸æ°¢é’ ï¼‰ã€‚", chlorineAction: "å¯¹äºŽç»´æŠ¤å‰‚é‡ï¼Œæ‚¨åº”æ·»åŠ çº¦ {amount} å…‹çš„é¢—ç²’æ°¯ã€‚", explanationTitle: "è®¡ç®—è¯´æ˜Žï¼š", volumeLine: "å®¹é‡ï¼š{volume} å‡ ({volumeM3} mÂ³)", phIncreaseLine: "éœ€è¦æé«˜çš„pHå€¼ï¼šä»Ž {current} åˆ° {desired} = {diff}", phDosageLine: "æ ‡å‡†ç”¨é‡ï¼šæ¯æé«˜0.1 pHå€¼ï¼Œæ¯ç«‹æ–¹ç±³ {dosage} å…‹", phCalculationLine: "è®¡ç®—ï¼š({volumeM3} mÂ³ * {dosage}g * ({diff} / 0.1)) = {result} å…‹", alkIncreaseLine: "éœ€è¦æé«˜çš„ç¢±åº¦ï¼šä»Ž {current} ppm åˆ° {desired} ppm = {diff} ppm", alkDosageLine: "æ ‡å‡†ç”¨é‡ï¼šæ¯æé«˜10 ppmï¼Œæ¯ç«‹æ–¹ç±³ {dosage} å…‹", alkCalculationLine: "è®¡ç®—ï¼š({volumeM3} mÂ³ * {dosage}g * ({diff} / 10)) = {result} å…‹", chlorineDosageLine: "æ ‡å‡†ç»´æŠ¤ç”¨é‡ï¼šæ¯1000å‡ï¼ˆ1ç«‹æ–¹ç±³ï¼‰{dosage} å…‹", chlorineCalculationLine: "è®¡ç®—ï¼š({volumeM3} mÂ³ * {dosage}g = {result} å…‹", },
        en: { name: "ðŸ‡ºðŸ‡¸ English", mainTitle: "Pool Treatment Calculator", poolVolumeLabel: "Pool Volume (Liters):", volumePlaceholder: "Ex: 50000", phTitle: "1. Adjust pH (Raise with Soda Ash)", phCurrentLabel: "Current pH:", phCurrentPlaceholder: "Ex: 6.8", phDesiredLabel: "Desired pH (Ideal 7.4):", calculatePhButton: "Calculate Soda Ash Dosage", alkTitle: "2. Adjust Total Alkalinity (Raise)", alkCurrentLabel: "Current Alkalinity (ppm):", alkCurrentPlaceholder: "Ex: 50", alkDesiredLabel: "Desired Alkalinity (Ideal 100 ppm):", calculateAlkButton: "Calculate Raiser Dosage", chlorineTitle: "3. Granular Chlorine Dosage (Maintenance)", chlorineDescription: "The average maintenance dose is 4 grams per 1,000 liters. This calculation is a reference for daily or alternate day application.", calculateChlorineButton: "Calculate Chlorine Dosage", alertVolume: "Please enter a valid pool volume before calculating.", alertFillFields: "Please fill in the current and desired values.", phOk: "The current pH is already at or above the desired level. No adjustment to raise it is necessary.", phAction: "You should add approximately {amount} kg of soda ash (pH increaser). It is recommended to apply in stages to avoid overdose.", alkOk: "The current alkalinity is already at or above the desired level. No adjustment to raise it is necessary.", alkAction: "You should add approximately {amount} kg of alkalinity increaser (sodium bicarbonate).", chlorineAction: "For a maintenance dose, you should add approximately {amount} grams of granular chlorine.", explanationTitle: "Calculation Explanation:", volumeLine: "Volume: {volume} liters ({volumeM3} mÂ³)", phIncreaseLine: "Required pH increase: From {current} to {desired} = {diff}", phDosageLine: "Standard dosage: {dosage}g/mÂ³ for each 0.1 pH increase", phCalculationLine: "Calculation: ({volumeM3} mÂ³ * {dosage}g * ({diff} / 0.1)) = {result} grams", alkIncreaseLine: "Required alkalinity increase: From {current} ppm to {desired} ppm = {diff} ppm", alkDosageLine: "Standard dosage: {dosage}g/mÂ³ for each 10 ppm increase", alkCalculationLine: "Calculation: ({volumeM3} mÂ³ * {dosage}g * ({diff} / 10)) = {result} grams", chlorineDosageLine: "Standard maintenance dosage: {dosage}g per 1,000 liters (1 mÂ³)", chlorineCalculationLine: "Calculation: {volumeM3} mÂ³ * {dosage}g = {result} grams", }
    };

    let currentLanguage = 'pt';

    const customSelect = document.querySelector('.custom-select-wrapper');
    const selectBtn = customSelect.querySelector('.select-btn');
    const selectContent = customSelect.querySelector('.select-content');
    const selectBtnText = selectBtn.querySelector('span');

    // Popula as opÃ§Ãµes de idioma dinamicamente
    const langOptions = ['pt', 'ru', 'hi', 'zh', 'en'];
    langOptions.forEach(langCode => {
        const option = document.createElement('div');
        option.className = 'select-item';
        option.textContent = translations[langCode].name;
        option.dataset.lang = langCode;
        selectContent.appendChild(option);
    });

    const selectItems = selectContent.querySelectorAll('.select-item');

    selectBtn.addEventListener('click', () => {
        customSelect.classList.toggle('active');
    });

    selectItems.forEach(item => {
        item.addEventListener('click', () => {
            const lang = item.dataset.lang;
            setLanguage(lang);
            customSelect.classList.remove('active');
        });
    });
    
    // Fecha o dropdown se clicar fora
    document.addEventListener('click', (e) => {
        if (!customSelect.contains(e.target)) {
            customSelect.classList.remove('active');
        }
    });

    function setLanguage(lang) {
        currentLanguage = lang;
        document.documentElement.lang = lang;

        // Atualiza o texto do botÃ£o do seletor personalizado
        selectBtnText.textContent = translations[lang].name;

        // Atualiza todos os outros textos da pÃ¡gina
        document.querySelectorAll('[data-key]').forEach(elem => {
            const key = elem.getAttribute('data-key');
            if (translations[lang][key]) {
                elem.textContent = translations[lang][key];
            }
        });
        document.querySelectorAll('[data-placeholder-key]').forEach(elem => {
            const key = elem.getAttribute('data-placeholder-key');
            if (translations[lang][key]) {
                elem.placeholder = translations[lang][key];
            }
        });
    }

    // Define o idioma inicial ao carregar a pÃ¡gina
    document.addEventListener('DOMContentLoaded', () => {
        setLanguage('pt');
    });

    function validarVolume() {
        const volumeInput = document.getElementById('volumePiscina');
        const volume = parseFloat(volumeInput.value);
        if (isNaN(volume) || volume <= 0) {
            alert(translations[currentLanguage].alertVolume);
            volumeInput.focus();
            return null;
        }
        return volume;
    }

    function exibirResultado(divId, frase, explicacao) {
        const resultadoDiv = document.getElementById(divId);
        const explanationTitle = translations[currentLanguage].explanationTitle;
        resultadoDiv.innerHTML = `<p class="frase-acao">${frase}</p><div class="explicacao-calculo"><strong>${explanationTitle}</strong><br>${explicacao}</div>`;
        resultadoDiv.style.display = 'block';
    }

    function calcularPH() {
        const volume = validarVolume();
        if (!volume) return;

        const atual = parseFloat(document.getElementById('phAtual').value);
        const desejado = parseFloat(document.getElementById('phDesejado').value);
        
        if (isNaN(atual) || isNaN(desejado)) {
            exibirResultado('resultadoPH', translations[currentLanguage].alertFillFields, '');
            return;
        }

        if (atual >= desejado) {
            exibirResultado('resultadoPH', translations[currentLanguage].phOk, '');
            return;
        }

        const volumeM3 = volume / 1000;
        const gramasPorM3PorPonto = 6;
        const aumentoNecessario = desejado - atual;
        const dosagemGramas = volumeM3 * gramasPorM3PorPonto * (aumentoNecessario / 0.1);
        const dosagemKg = dosagemGramas / 1000;

        const frase = translations[currentLanguage].phAction.replace('{amount}', dosagemKg.toFixed(2));
        const explicacao = [
            translations[currentLanguage].volumeLine.replace('{volume}', volume.toLocaleString()).replace('{volumeM3}', volumeM3.toFixed(2)),
            translations[currentLanguage].phIncreaseLine.replace('{current}', atual).replace('{desired}', desejado).replace('{diff}', aumentoNecessario.toFixed(1)),
            translations[currentLanguage].phDosageLine.replace('{dosage}', gramasPorM3PorPonto),
            translations[currentLanguage].phCalculationLine.replace('{volumeM3}', volumeM3.toFixed(2)).replace('{dosage}', gramasPorM3PorPonto).replace('{diff}', aumentoNecessario.toFixed(1)).replace('{result}', dosagemGramas.toFixed(2))
        ].join('<br>');

        exibirResultado('resultadoPH', frase, explicacao);
    }

    function calcularAlcalinidade() {
        const volume = validarVolume();
        if (!volume) return;

        const atual = parseFloat(document.getElementById('alcalinidadeAtual').value);
        const desejado = parseFloat(document.getElementById('alcalinidadeDesejada').value);
        
        if (isNaN(atual) || isNaN(desejado)) {
            exibirResultado('resultadoAlcalinidade', translations[currentLanguage].alertFillFields, '');
            return;
        }

        if (atual >= desejado) {
            exibirResultado('resultadoAlcalinidade', translations[currentLanguage].alkOk, '');
            return;
        }

        const volumeM3 = volume / 1000;
        const gramasPorM3Por10PPM = 18;
        const aumentoNecessario = desejado - atual;
        const dosagemGramas = volumeM3 * gramasPorM3Por10PPM * (aumentoNecessario / 10);
        const dosagemKg = dosagemGramas / 1000;

        const frase = translations[currentLanguage].alkAction.replace('{amount}', dosagemKg.toFixed(2));
        const explicacao = [
            translations[currentLanguage].volumeLine.replace('{volume}', volume.toLocaleString()).replace('{volumeM3}', volumeM3.toFixed(2)),
            translations[currentLanguage].alkIncreaseLine.replace('{current}', atual).replace('{desired}', desejado).replace('{diff}', aumentoNecessario.toFixed(0)),
            translations[currentLanguage].alkDosageLine.replace('{dosage}', gramasPorM3Por10PPM),
            translations[currentLanguage].alkCalculationLine.replace('{volumeM3}', volumeM3.toFixed(2)).replace('{dosage}', gramasPorM3Por10PPM).replace('{diff}', aumentoNecessario.toFixed(0)).replace('{result}', dosagemGramas.toFixed(2))
        ].join('<br>');

        exibirResultado('resultadoAlcalinidade', frase, explicacao);
    }

    function calcularCloro() {
        const volume = validarVolume();
        if (!volume) return;
        
        const volumeM3 = volume / 1000;
        const gramasPorM3 = 4;
        const dosagemGramas = volumeM3 * gramasPorM3;

        const frase = translations[currentLanguage].chlorineAction.replace('{amount}', dosagemGramas.toFixed(0));
        const explicacao = [
             translations[currentLanguage].volumeLine.replace('{volume}', volume.toLocaleString()).replace('{volumeM3}', volumeM3.toFixed(2)),
             translations[currentLanguage].chlorineDosageLine.replace('{dosage}', gramasPorM3),
             translations[currentLanguage].chlorineCalculationLine.replace('{volumeM3}', volumeM3.toFixed(2)).replace('{dosage}', gramasPorM3).replace('{result}', dosagemGramas.toFixed(2))
        ].join('<br>');
        
        exibirResultado('resultadoCloro', frase, explicacao);
    }
</script>

</body>
</html>

